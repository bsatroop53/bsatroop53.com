---
layout: page
---
@using SitePlugin;
@{
    const int picsPerRow = 6;
    var imagesByYear = T53AllImageGallery.ImagesByYear;
    int[] years = imagesByYear.Keys.OrderBy( i => i ).ToArray();
}
@Raw( Model.Content )
<p>Total Images: @T53AllImageGallery.TotalImages</p>

@for( int yearIndex = 0; yearIndex < years.Length; ++yearIndex )
{
    int year = years[yearIndex];

    string previousId = null;
    <h2>@year</h2>
    for( int i = 0; i < imagesByYear[year].Count; ++i )
    {
        <div class="row">
            @for( int j = 0; ( i < imagesByYear[year].Count ) && ( j < picsPerRow ); ++j )
            {
                string id = "" + year + i;
                T53GalleryImage image = imagesByYear[year][i];
                <div class="col-sm-2">
                    <div class="portfolio-item" style="max-width: @(T53AllImageGallery.MaximumWidth)px;">
                        <a class="gallery-preview" href="#galleryimage_@(id)">
                            <img class="thumbnailimage" src="@image.GalleryThumbNailPage.Url" alt="@image.PretzelImageContext.ImageInfo.SafeGetAlt()" />
                        </a>
                        <div class="lightbox" id="galleryimage_@(id)">
                            <div class="lightboxwrapper" class="lightboxwrapper">
                                <div class="panel panel-default">
                                    <div class="panel-heading closeButtonHeader">
                                        <a href="#" class="btn btn-danger">
                                            <i class="fa-solid fa-x"></i>
                                        </a>
                                    </div>
                                    <div class="panel-body">
                                        @if( previousId != null )
                                        {
                                            <div class="prev">
                                                <a href="#galleryimage_@(previousId)">&#10094;</a>
                                            </div>
                                        }
                                        <a href="@image.PretzelImageContext.OriginalPhotoUrl" target="_blank">
                                            <img class="thumbnailimage" src="@image.PretzelImageContext.ThumbnailUrl" alt="@image.PretzelImageContext.ImageInfo.SafeGetAlt()"/>
                                        </a>
                                        @if( nextId != null )
                                        {
                                            <div class="next">
                                                <a href="#galleryimage_@(nextId)">&#10095;</a>
                                            </div>
                                        }
                                    </div>
                                    <div class="panel-footer">
                                        <p class="captionText"><em>Posted in: <a href="@image.PostPage.Url" target="_blank">@image.PostPage.Title</a></em></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                ++i;
                previousId = id;
            }
        </div>
    }
}
